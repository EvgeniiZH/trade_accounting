<div class="card border-0 shadow-sm flex-grow-1 d-flex flex-column">
    <div class="card-body p-3 d-flex flex-column flex-grow-1">
        <!-- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä -->
        <div class="search-toolbar flex-column flex-md-row gap-2 mb-3">
            <div class="input-group flex-grow-1">
                <span class="input-group-text" aria-hidden="true">üîç</span>
                <input type="text" id="search-input" class="form-control"
                       placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞..." data-focus-hotkey="/"
                       autocomplete="off" aria-label="–ü–æ–∏—Å–∫ –ø–æ —Ç–æ–≤–∞—Ä–∞–º"
                       value="{{ search_query }}">
                <button type="button" id="clear-search" class="btn btn-outline-secondary text-nowrap">–û—á–∏—Å—Ç–∏—Ç—å</button>
            </div>
            <button type="button" id="filter-selected" class="btn btn-outline-secondary text-nowrap search-filter-btn">
                üîò –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ
            </button>
        </div>

        <div class="table-scroll border rounded flex-grow-1 position-relative">
            <!-- Loader -->
            <div class="table-loader">
                <div class="spinner"></div>
            </div>

            <table class="table table-bordered table-hover mb-0" id="calculation-table">
        <thead class="position-sticky top-0 z-1">
        <tr>
            <th>#</th>
            <th>
                <a href="?sort_by=name&direction={% if sort_by == 'name' and direction == 'asc' %}desc{% else %}asc{% endif %}" 
                   class="sort-link {% if sort_by == 'name' %}{% if direction == 'asc' %}asc{% else %}desc{% endif %}{% endif %}"
                   style="color: white; text-decoration: none;">
                    –¢–æ–≤–∞—Ä
                </a>
            </th>
            <th>
                <a href="?sort_by=price&direction={% if sort_by == 'price' and direction == 'asc' %}desc{% else %}asc{% endif %}" 
                   class="sort-link {% if sort_by == 'price' %}{% if direction == 'asc' %}asc{% else %}desc{% endif %}{% endif %}"
                   style="color: white; text-decoration: none;">
                    –¶–µ–Ω–∞
                </a>
            </th>
            <th style="width: 110px;">–ö–æ–ª-–≤–æ</th>
            <th class="text-center">–í—ã–±—Ä–∞—Ç—å</th>
        </tr>
        </thead>
        <tbody>
        {% include 'trades/includes/create_calculation_rows.html' %}
        </tbody>
            </table>
        </div>
    </div>

    <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –≤–Ω–∏–∑—É –∫–∞—Ä—Ç–æ—á–∫–∏ -->
    <div class="card-footer bg-white border-top-0">
        {% include 'includes/pagination.html' %}
    </div>
</div>
